<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <script src="https://d3js.org/d3.v4.min.js"></script>
  <title>Document</title>
  <style>
  	.line{
  		fill: none;
  		stroke-width:3;
  		stroke: green ;
  	}
  	.circle {
07
      stroke-width: 1;
08
      fill: #3080d0;
09
      stroke: #3080d0;
10
    }

  </style>
</head>
<body>
<script type="text/javascript">
var width = 800; 
var height = 600; 
var parseTime = d3.timeParse("%d-%b-%y");
d3.csv("./stocks.csv", 

	function(data)
	{
		var ln = data.length;
		data.forEach(
			function (d)
			{
				d.date= parseTime(d.date);
				d.close= +d.close ;
			});
		var ctrl = 	d3.select("body")
					.append("svg")
					.attr("width",width)
					.attr("height",height);
		var x = d3.scaleTime().range([0,width]);
		var y = d3.scaleLinear().range([height,0]);
		var valueline = d3.line().
		x(
			function(d,i){ 
				xset = (width/ln)*i;
				console.log(xset)
				return xset ; 
			}).
		y(
			function(d){
				yset =  (d.close)/770*600 ;
				console.log(yset);
				return yset ; 
			});
		ctrl.append("path").data([data]).attr("class","line").attr("d",valueline);
		ctrl.append("circle").data([data]).attr("class","circle").attr("cx",x ).attr("cy",y).attr("r","2");
	}

);



</script>
</body>
</html>